/**
 * Credit: https://amystechnotes.com/2015/05/06/tinymce-add-character-count/
 * This is a slightly modified version to work with more recent TinyMCE version, fix some code styling and don't trim 
 * trailing and leading whitespaces from count.
 */
tinymce.PluginManager.add("charactercount",function(t){t.on("init",function(){function e(){var e=t.getContent({format:"text"});return(e=e.trim().replace(/(\n)+/g," ")).length}var n=t.theme.panel&&t.theme.panel.find("#statusbar")[0];n&&window.setTimeout(function(){n.insert({type:"label",name:"charcount",text:["Vous avez écris: {0} caractères | ",e()],classes:"wordcount",disabled:t.settings.readonly},0),t.on("keyup setcontent beforeaddundo",function(){t.theme.panel.find("#charcount").text(["Vous avez écris: {0} caractères | ",e()])})},0)})});
